var n=!1;if("undefined"!=typeof window){var o={get passive(){n=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),e=[],t=!1,d=-1,u=void 0,r=void 0,c=function(n){return e.some((function(o){return!(!o.options.allowTouchMove||!o.options.allowTouchMove(n))}))},v=function(n){var o=n||window.event;return!!c(o.target)||o.touches.length>1||(o.preventDefault&&o.preventDefault(),!1)},a=function(o,a){if(o){if(!e.some((function(n){return n.targetElement===o}))){var f={targetElement:o,options:a||{}};e=[].concat(function(n){if(Array.isArray(n)){for(var o=0,i=Array(n.length);o<n.length;o++)i[o]=n[o];return i}return Array.from(n)}(e),[f]),i?(o.ontouchstart=function(n){1===n.targetTouches.length&&(d=n.targetTouches[0].clientY)},o.ontouchmove=function(n){1===n.targetTouches.length&&function(n,o){var i=n.targetTouches[0].clientY-d;!c(n.target)&&(o&&0===o.scrollTop&&i>0||function(n){return!!n&&n.scrollHeight-n.scrollTop<=n.clientHeight}(o)&&i<0?v(n):n.stopPropagation())}(n,o)},t||(document.addEventListener("touchmove",v,n?{passive:!1}:void 0),t=!0)):function(n){if(void 0===r){var o=window.innerWidth-document.documentElement.clientWidth;n&&!0===n.reserveScrollBarGap&&o>0&&(r=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}void 0===u&&(u=document.body.style.overflow,document.body.style.overflow="hidden")}(a)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},f=function(){i?(e.forEach((function(n){n.targetElement.ontouchstart=null,n.targetElement.ontouchmove=null})),t&&(document.removeEventListener("touchmove",v,n?{passive:!1}:void 0),t=!1),d=-1):(void 0!==r&&(document.body.style.paddingRight=r,r=void 0),void 0!==u&&(document.body.style.overflow=u,u=void 0)),e=[]};export{f as c,a as d}