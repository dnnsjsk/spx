import{r as t,c as s,h as i,H as h,g as e}from"./p-dfe31926.js";import{g as a,c as o}from"./p-9403a412.js";import{g as r}from"./p-23ebbf1d.js";import{s as p}from"./p-37718fa8.js";const n=class{constructor(i){t(this,i),this.spxAnimateDidLoad=s(this,"spxAnimateDidLoad",7),this.delay=0,this.duration=1,this.ease="power1.out",this.opacity=0,this.stagger=.15,this.target="*",this.x=0,this.y=0,this.display="block"}componentDidLoad(){a(this.el);const t=()=>{if(this.elements=this.el.querySelectorAll(this.target),void 0!==this.elements&&0!==this.elements.length||!document.body.classList.contains("oxygen-builder-body")){this.tl=r.timeline({defaults:{ease:this.ease},paused:!0});const t={clipPath:this.clipPath,delay:this.delay,duration:this.duration,filter:this.filter,webkitFilter:this.filter,opacity:this.opacity,repeat:this.repeat,repeatDelay:this.repeatDelay,stagger:this.stagger,x:this.x,y:this.y,yoyo:this.yoyo,onComplete:()=>{"SPX-NOTATION"===this.el.parentElement.tagName&&this.el.parentElement.show()}};this.reverse?this.tl.to(this.elements,t):this.tl.from(this.elements,t),this.viewport||this.tl.play(),this.viewport&&new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?this.tl.play():this.once||this.tl.reverse()}))}),{rootMargin:(this.viewportMarginTop||"0px")+" "+(this.viewportMarginRight||"0px")+" "+(this.viewportMarginBottom||"0px")+" "+(this.viewportMarginLeft||"0px")}).observe(this.el),this.spxAnimateDidLoad.emit({target:"document"})}else setTimeout(t,100)};t()}async play(t=0,s=!0){this.tl.play(t,s)}async reload(){this.componentDidLoad()}async restart(t=!1,s=!0){this.tl.restart(t,s)}render(){const t=o({display:p("spx-animate","display",this.display)});return i(h,{class:t},i("slot",null))}get el(){return e(this)}};export{n as spx_animate}