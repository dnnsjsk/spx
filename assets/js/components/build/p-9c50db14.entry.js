import{r as t,c as n,h as s,g as o,H as e}from"./p-6c77ad03.js";import{c as i}from"./p-4353a1fe.js";import{s as r}from"./p-9f54bbf7.js";import{g as c}from"./p-7f0894df.js";import{c as a,a as u}from"./p-3e8ff66b.js";var f=a((function(t){
/*!
 * gumshoejs v5.1.2
 * A simple, framework-agnostic scrollspy script.
 * (c) 2019 Chris Ferdinandi
 * MIT License
 * http://github.com/cferdinandi/gumshoe
 */
var n;n=void 0!==u?u:"undefined"!=typeof window?window:u,t.exports=function(t){var n={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},s=function(t,n,s){if(s.settings.events){var o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});n.dispatchEvent(o)}},o=function(t){var n=0;if(t.offsetParent)for(;t;)n+=t.offsetTop,t=t.offsetParent;return n>=0?n:0},e=function(t){t&&t.sort((function(t,n){return o(t.content)<o(n.content)?-1:1}))},i=function(n,s,o){var e=n.getBoundingClientRect(),i=function(t){return"function"==typeof t.offset?parseFloat(t.offset()):parseFloat(t.offset)}(s);return o?parseInt(e.bottom,10)<(t.innerHeight||document.documentElement.clientHeight):parseInt(e.top,10)<=i},r=function(){return t.innerHeight+t.pageYOffset>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},c=function(t,n){var s=t[t.length-1];if(function(t,n){return!(!r()||!i(t.content,n,!0))}(s,n))return s;for(var o=t.length-1;o>=0;o--)if(i(t[o].content,n))return t[o]},a=function(t,n){if(n.nested&&t.parentNode){var s=t.parentNode.closest("li");s&&(s.classList.remove(n.nestedClass),a(s,n))}},u=function(t,n){if(t){var o=t.nav.closest("li");o&&(o.classList.remove(n.navClass),t.content.classList.remove(n.contentClass),a(o,n),s("gumshoeDeactivate",o,{link:t.nav,content:t.content,settings:n}))}},f=function(t,n){if(n.nested){var s=t.parentNode.closest("li");s&&(s.classList.add(n.nestedClass),f(s,n))}};return function(o,i){var r,a,l,h,v,p={setup:function(){r=document.querySelectorAll(o),a=[],Array.prototype.forEach.call(r,(function(t){var n=document.getElementById(decodeURIComponent(t.hash.substr(1)));n&&a.push({nav:t,content:n})})),e(a)},detect:function(){var t=c(a,v);t?l&&t.content===l.content||(u(l,v),function(t,n){if(t){var o=t.nav.closest("li");o&&(o.classList.add(n.navClass),t.content.classList.add(n.contentClass),f(o,n),s("gumshoeActivate",o,{link:t.nav,content:t.content,settings:n}))}}(t,v),l=t):l&&(u(l,v),l=null)}},d=function(){h&&t.cancelAnimationFrame(h),h=t.requestAnimationFrame(p.detect)},m=function(){h&&t.cancelAnimationFrame(h),h=t.requestAnimationFrame((function(){e(a),p.detect()}))};return p.destroy=function(){l&&u(l,v),t.removeEventListener("scroll",d,!1),v.reflow&&t.removeEventListener("resize",m,!1),a=null,r=null,l=null,h=null,v=null},v=function(){var t={};return Array.prototype.forEach.call(arguments,(function(n){for(var s in n){if(!n.hasOwnProperty(s))return;t[s]=n[s]}})),t}(n,i||{}),p.setup(),p.detect(),t.addEventListener("scroll",d,!1),v.reflow&&t.addEventListener("resize",m,!1),p}}(n)}));const l=class{constructor(s){t(this,s),this.spxScrollspyDidLoad=n(this,"spxScrollspyDidLoad",7),this.contentClass="spx-scrollspy__content--active",this.display="block",this.navClass="spx-scrollspy__nav--active",this.offset=0,this.scrollingOffset=50,this.target="a",this.urlChange=!1}onLinkChange(t){this.urlChange&&history.replaceState(null,null,t.detail.link.getAttribute("href")),this.scrolling&&this.el.scroll({top:this.el.querySelector('a[href="'+t.detail.link.getAttribute("href")+'"]').offsetTop-this.scrollingOffset,behavior:"smooth"})}componentDidLoad(){c(this.el),this.myGumshoe=new f(":scope "+this.target,{reflow:!0,navClass:this.navClass,contentClass:this.contentClass,events:!0,offset:()=>{return(t=this.offset)&&!isNaN(t)?t:t?document.querySelector(t).getBoundingClientRect().height:t?void 0:0;var t}}),this.spxScrollspyDidLoad.emit({target:"document"})}async reload(){this.myGumshoe.setup()}render(){const t=i({display:r("spx-scrollspy","display",this.display)});return s(e,{class:t})}get el(){return o(this)}};export{l as spx_scrollspy}