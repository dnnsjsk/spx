import{r as t,c as s,h as o,H as i,a as e}from"./p-08ffb50b.js";import{c as r}from"./p-c8a1ba51.js";import{s as h}from"./p-025a4802.js";import"./p-edbeee69.js";import"./p-0a7dbbed.js";import"./p-a2b66e39.js";import{g as a}from"./p-947bf368.js";const n="spx-image-comparison",c=class{constructor(o){t(this,o),this.spxImageComparisonDidLoad=s(this,"spxImageComparisonDidLoad",7),this.color="#ffffff",this.height="100%",this.iconColor="var(--spx-color-gray-900)",this.srcAfter="https://source.unsplash.com/random/1200x300",this.srcBefore="https://source.unsplash.com/random/1201x300",this.start=150}onResize(){this.el.offsetWidth!==this.width&&this.startChanged(this.start)}startChanged(t){const s=Math.max(0,Math.min(t,this.container.offsetWidth));this.imageAfter.style.width=s+2+"px",this.scroller.style.left=s-25+"px"}componentDidLoad(){a(this.el),this.width=this.el.offsetWidth,document.body.classList.contains("oxygen-builder-body")&&(this.scroller.style.pointerEvents="none"),this.active=!1,this.scroller.addEventListener("mousedown",(()=>{this.active=!0})),document.body.addEventListener("mouseup",(()=>{this.active=!1})),document.body.addEventListener("mouseleave",(()=>{this.active=!1})),document.body.addEventListener("mousemove",(t=>{this.mover(t)})),this.startChanged(this.start),this.scroller.addEventListener("touchstart",(()=>{this.active=!0})),document.body.addEventListener("touchend",(()=>{this.active=!1})),document.body.addEventListener("touchcancel",(()=>{this.active=!1})),document.body.addEventListener("touchmove",(t=>{this.mover(t)})),this.spxImageComparisonDidLoad.emit({target:"document"})}mover(t){if(!this.active)return;let s=t.pageX;s-=this.container.getBoundingClientRect().left,this.startChanged(s)}async reload(){this.componentDidLoad()}render(){const t=r({display:"block",position:"relative",height:h(n,"height",this.height),width:"100%",overflow:"hidden"}),s=r({width:"100%",height:h(n,"height",this.height),backgroundRepeat:"no-repeat",backgroundColor:"white",backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:"0",left:"0",pointerEvents:"none",overflow:"hidden",userSelect:"none"}),e=r({height:"100%"}),a=r({width:"125px"}),c=r({width:"50px",height:"50px",position:"absolute",left:"100px",top:"50%",transform:"translateY(-50%)",borderRadius:"50%",backgroundColor:" transparent",opacity:this.active?1:.9,pointerEvents:this.active?"none":"auto",cursor:"pointer",background:h(n,"color",this.color),border:"4px solid "+h(n,"color",this.color),"&:hover":{opacity:1},"&:after, &:before":{content:'" "',display:"block",width:"4px",height:"9999px",position:"absolute",left:"50%",marginLeft:"-2px",zIndex:30,transition:"0.1s",background:h(n,"color",this.color)},"&:before":{top:"100%"},"&:after":{bottom:"100%"}}),p=r({height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center","spx-icon":{transform:"rotate(45deg)"}});return o(i,{class:t},this.srcBefore&&this.srcAfter&&[o("div",{ref:t=>this.container=t,class:s},o("img",{loading:this.loading,class:e,src:this.srcBefore,alt:"before"})),o("div",{ref:t=>this.imageAfter=t,class:r([s,a])},o("img",{loading:this.loading,class:e,src:this.srcAfter,alt:"after"})),o("div",{ref:t=>this.scroller=t,class:c},o("div",{class:p},o("spx-icon",{icon:"resize",size:"32px",color:this.iconColor})))])}get el(){return e(this)}static get watchers(){return{start:["startChanged"]}}};export{c as spx_image_comparison}