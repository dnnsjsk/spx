import{r as i,d as t,h as o,H as n,a as s}from"./p-e1defc51.js";import{c as a}from"./p-cfbebfdc.js";import{s as e}from"./p-33315b75.js";import"./p-a1c5e2d4.js";import"./p-3333ff2d.js";import"./p-d1ae8003.js";import"./p-5cc7fca6.js";import"./p-6cdc03eb.js";import{g as r}from"./p-9e5127cc.js";import{b as h,d as p,a as l,c,m as d,f as m}from"./p-8066be7a.js";import{c as g}from"./p-ab24326e.js";const v="spx-navigation",u=class{constructor(o){i(this,o),this.spxNavigationDidLoad=t(this,"spxNavigationDidLoad",7),this.childBorder="1px solid var(--spx-color-gray-200)",this.childBorderRadius=h,this.childBoxShadow="0 3px 10px 0 rgba(0,0,0,0.05)",this.childChildGap="0.8em",this.childGap="0.5em",this.childIcon="arrow-down",this.childIconType="ionicons",this.childIndicatorGap="0.2em",this.childItemBackground="#ffffff",this.childItemBackgroundHover="var(--spx-color-gray-100)",this.childItemColor="var(--spx-color-gray-700)",this.childItemColorHover="var(--spx-color-gray-900)",this.childItemPadding="0.6em 0.8em",this.childPlacement="start",this.fontSize=p,this.itemTransitionDuration=l,this.itemTransitionTimingFunction=c,this.mobile=d,this.mobileIconType="ionicons",this.mobileItemBackground="#ffffff",this.mobileItemBackgroundHover="var(--spx-color-gray-100)",this.mobileItemColor="var(--spx-color-gray-800)",this.mobileItemColorHover="var(--spx-color-gray-900)",this.mobileItemNestedMarginLeft="0.8em",this.mobileItemPadding="0.6em",this.mobilePlacement="start",this.parentItemBackground="#ffffff",this.parentItemBackgroundHover="var(--spx-color-gray-100)",this.parentItemColor="var(--spx-color-gray-800)",this.parentItemColorHover="var(--spx-color-gray-900)",this.parentItemGap="0.4em",this.parentItemPadding="0.6em"}imagesChanged(i){i&&(this.menuArray=JSON.parse(i))}onClick(){this.mobileBP?this.initPopperMobile():(this.initPopperDesktop(),this.initPopperDesktop())}onResize(){this.mobileBP=window.innerWidth<this.mobile}componentWillLoad(){this.imagesChanged(this.menu),this.onResize()}componentDidLoad(){r(this.el),this.sortMenuItem(),this.spxNavigationDidLoad.emit({target:"document"})}componentDidUpdate(){this.sortMenuItem()}renderMenu(i,t,n){return o("div",{class:n?"spx-navigation--"+t+" spx-navigation--mobile":"spx-navigation--"+t},o("ul",null,Object.values(i).map(i=>{const s=i.spxChildren,a=i.classes.map(i=>i).toString().replace(/,/g,"  ");return o("li",{class:i.spxChildren?"spx-navigation__item--"+t+" spx-navigation__item--has-child"+a:"spx-navigation__item--"+t+" "+a,"data-order":i.menu_order},o("a",{href:"#"===i.url?"#0":i.url},i.title,s&&!this.mobileBP&&!this.vertical&&this.childIcon&&o("spx-icon",{type:this.childIconType,icon:this.childIcon})),s&&!n&&this.renderMenu(i.spxChildren,"child",!1),s&&n&&this.renderMenu(i.spxChildren,"child",!0))})))}sortMenuItem(){const i=this.el.querySelectorAll("li"),t=[];for(let o=0;o<i.length;++o)t.push(i[o]);t.sort((function(i,t){return+i.getAttribute("data-order")-+t.getAttribute("data-order")})),t.forEach(i=>{i.closest("ul").appendChild(i)})}initPopperDesktop(){if(!this.vertical){const i=this.el.querySelectorAll("nav > .spx-navigation--parent .spx-navigation__item--parent.spx-navigation__item--has-child");i&&i.forEach(i=>{g(i,i.querySelector("div"),{placement:"bottom-"+this.childPlacement})});const t=this.el.querySelectorAll("nav > .spx-navigation--parent .spx-navigation--child .spx-navigation__item--child.spx-navigation__item--has-child");t&&t.forEach(i=>{g(i,i.querySelector("div"),{placement:"right-start",strategy:"fixed",modifiers:[{name:"flip",options:{fallbackPlacements:["left-start"]}},{name:"offset",options:{offset:({placement:t})=>"right-start"===t?[-Math.abs(i.getBoundingClientRect().top-i.parentElement.getBoundingClientRect().top),Math.abs(i.getBoundingClientRect().right-i.parentElement.getBoundingClientRect().right)]:[-Math.abs(i.getBoundingClientRect().top-i.parentElement.getBoundingClientRect().top),Math.abs(i.getBoundingClientRect().left-i.parentElement.getBoundingClientRect().left)]}},{name:"preventOverflow",options:{rootBoundary:i,padding:-1}}]})})}}initPopperMobile(){const i=this.el.querySelector(".spx-navigation__mobile-button");i&&g(i,i.querySelector(".spx-navigation--mobile"),{placement:"bottom-"+this.mobilePlacement})}async reload(){this.componentDidLoad()}render(){const i=a({display:"block",fontFamily:m,fontSize:e(v,"font-size",this.fontSize),zIndex:999999,"nav > .spx-navigation--parent":{display:this.mobileBP?"none":"grid"},ul:{margin:"0",padding:"0",listStyleType:"none",ul:{display:this.vertical&&"grid",gridGap:this.vertical&&e(v,"parent-item-gap",this.parentItemGap),marginLeft:(this.mobileBP||this.vertical)&&e(v,"mobile-item-nested-margin-left",this.mobileItemNestedMarginLeft)}},"ul ul, .spx-navigation--mobile ul":{border:!this.mobileBP&&e(v,"child-border",this.childBorder),borderRadius:e(v,"child-border-radius",this.childBorderRadius),overflow:"hidden",boxShadow:!this.mobileBP&&e(v,"child-box-shadow",this.childBoxShadow)},".spx-navigation--parent:not(.spx-navigation--mobile) > ul":{display:"grid",gridAutoFlow:this.mobileBP||this.vertical?"row":"column",gridAutoColumns:"max-content",gridAutoRows:(this.mobileBP||this.vertical)&&"max-content",gridGap:e(v,"parent-item-gap",this.parentItemGap)},".spx-navigation__item--parent":{a:{padding:e(v,"parent-item-padding",this.parentItemPadding),color:e(v,"parent-item-color",this.parentItemColor),background:e(v,"parent-item-background",this.parentItemBackground),"&:hover":{color:e(v,"parent-item-color-hover",this.parentItemColorHover),background:e(v,"parent-item-color-background-hover",this.parentItemBackgroundHover)}},"&.spx-navigation__item--has-child > .spx-navigation--child":{flexDirection:"column",marginTop:this.vertical&&e(v,"parent-item-gap",this.parentItemGap),a:{display:"flex",justifyContent:"space-between",width:"100%",whiteSpace:"nowrap",color:!this.mobileBP&&e(v,"child-item-color",this.childItemColor),background:!this.mobileBP&&e(v,"child-item-background",this.childItemBackground),"&:hover":{color:!this.mobileBP&&e(v,"child-item-color-hover",this.childItemColorHover),background:!this.mobileBP&&e(v,"child-item-color-background-hover",this.childItemBackgroundHover)}},"::before":{content:'" "',position:"relative",display:this.mobileBP||this.vertical?"none":"block",minHeight:e(v,"child-gap",this.childGap),width:"100%"}}},".spx-navigation--child, .spx-navigation--mobile":{pointerEvents:this.vertical?"auto":"none",opacity:this.vertical?"1":"0",position:this.vertical?"relative":"absolute",display:"flex",flexDirection:this.mobileBP?"column":"row",transitionProperty:"opacity",transitionDuration:e(v,"item-transition-duration",this.itemTransitionDuration),transitionTimingFunction:e(v,"item-transition-timing-function",this.itemTransitionTimingFunction)},".spx-navigation--mobile .spx-navigation--child":{position:"relative"},"li:hover > .spx-navigation--child, li:focus-within > .spx-navigation--child, .spx-navigation__mobile-button:hover .spx-navigation--mobile, .spx-navigation__mobile-button:focus-within .spx-navigation--mobile, .spx-navigation__mobile-button:hover .spx-navigation--child, .spx-navigation__mobile-button:focus-within .spx-navigation--child":{opacity:"1",pointerEvents:"auto",transform:"translateY(0px)"},".spx-navigation__item--child":{a:{padding:e(v,"child-item-padding",this.childItemPadding)},'[data-popper-placement="left-start"]':{flexDirection:"row-reverse"},"[data-popper-placement]::before":{content:'" "',position:"relative",display:this.mobileBP||this.vertical?"none":"block",minWidth:e(v,"child-child-gap",this.childChildGap),height:"100%"}},li:{position:"relative",display:!this.mobileBP&&!this.vertical&&"flex",flexDirection:"row"},a:{display:"inline-grid",gridAutoFlow:"column",gridColumnGap:e(v,"child-indicator-gap",this.childIndicatorGap),textDecoration:this.itemUnderline?"underline":"none",width:"100%",fontSize:"inherit",transitionProperty:"color, background",transitionDuration:e(v,"item-transition-duration",this.itemTransitionDuration),transitionTimingFunction:e(v,"item-transition-timing-function",this.itemTransitionTimingFunction),"&:hover":{textDecoration:this.itemUnderlineHover&&"underline"}},".spx-navigation__mobile-button":{cursor:"pointer",maxWidth:"fit-content",padding:e(v,"parent-item-padding",this.parentItemPadding),color:e(v,"parent-item-color",this.parentItemColor),background:e(v,"parent-item-background",this.parentItemBackground),gridGap:"0.4rem",gridAutoFlow:"column",alignItems:"center",display:this.mobileBP?"grid":"none",a:{padding:e(v,"mobile-item-padding",this.mobileItemPadding),color:e(v,"mobile-item-color",this.mobileItemColor),background:e(v,"mobile-item-background",this.mobileItemBackground),"&:hover":{color:e(v,"mobile-item-color-hover",this.mobileItemColorHover),background:e(v,"mobile-item-background-hover",this.mobileItemBackgroundHover)}},".spx-navigation--parent":{"::before":{content:'" "',position:"relative",display:"block",minHeight:e(v,"child-gap",this.childGap),width:"100%"},"> ul":{background:e(v,"child-item-background",this.childItemBackground),border:e(v,"child-border",this.childBorder),boxShadow:e(v,"child-box-shadow",this.childBoxShadow)}}}});return o(n,{class:i},o("nav",null,this.menu&&[this.renderMenu(this.menuArray,"parent",!1),o("div",{tabindex:"0",role:"button",class:"spx-navigation__mobile-button"},this.mobileIcon&&o("spx-icon",{type:this.mobileIconType,icon:this.mobileIcon}),o("span",null,"Menu"),this.renderMenu(this.menuArray,"parent",!0))]))}get el(){return s(this)}static get watchers(){return{menu:["imagesChanged"]}}};export{u as spx_navigation}