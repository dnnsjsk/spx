import{r as t,h as s,H as o,a as e}from"./p-e1defc51.js";import{c as i}from"./p-cfbebfdc.js";import{s as r}from"./p-33315b75.js";import"./p-a1c5e2d4.js";import"./p-3333ff2d.js";import"./p-d1ae8003.js";import"./p-5cc7fca6.js";import"./p-6cdc03eb.js";import{g as h}from"./p-9e5127cc.js";const n="spx-image-comparison",a=class{constructor(s){t(this,s),this.color="#ffffff",this.iconColor="var(--spx-color-gray-900)",this.srcAfter="https://source.unsplash.com/random/1200x300",this.srcBefore="https://source.unsplash.com/random/1201x300",this.start=150}onResize(){this.el.offsetWidth!==this.width&&this.startChanged(this.start)}startChanged(t){const s=Math.max(0,Math.min(t,this.container.offsetWidth));this.imageAfter.style.width=s+"px",this.scroller.style.left=s-25+"px"}componentDidLoad(){h(this.el),this.width=this.el.offsetWidth,document.body.classList.contains("oxygen-builder-body")&&(this.scroller.style.pointerEvents="none"),this.active=!1,this.scroller.addEventListener("mousedown",()=>{this.active=!0}),document.body.addEventListener("mouseup",()=>{this.active=!1}),document.body.addEventListener("mouseleave",()=>{this.active=!1}),document.body.addEventListener("mousemove",t=>{this.mover(t)}),this.startChanged(this.start),this.scroller.addEventListener("touchstart",()=>{this.active=!0}),document.body.addEventListener("touchend",()=>{this.active=!1}),document.body.addEventListener("touchcancel",()=>{this.active=!1}),document.body.addEventListener("touchmove",t=>{this.mover(t)})}mover(t){if(!this.active)return;let s=t.pageX;s-=this.container.getBoundingClientRect().left,this.startChanged(s)}async reload(){this.componentDidLoad()}render(){const t=i({width:"100%",height:"100%",backgroundRepeat:"no-repeat",backgroundColor:"white",backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:"0",left:"0",pointerEvents:"none",overflow:"hidden",userSelect:"none"}),e=i({height:"100%"}),h=i({width:"125px"}),a=i({width:"50px",height:"50px",position:"absolute",left:"100px",top:"50%",transform:"translateY(-50%)",borderRadius:"50%",backgroundColor:" transparent",opacity:this.active?1:.9,pointerEvents:this.active?"none":"auto",cursor:"pointer",background:r(n,"color",this.color),border:"4px solid "+r(n,"color",this.color),"&:hover":{opacity:1},"&:after, &:before":{content:'" "',display:"block",width:"4px",height:"9999px",position:"absolute",left:"50%",marginLeft:"-2px",zIndex:30,transition:"0.1s",background:r(n,"color",this.color)},"&:before":{top:"100%"},"&:after":{bottom:"100%"}}),c=i({height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center","spx-icon":{transform:"rotate(45deg)"}});return s(o,{class:i({display:"block",position:"relative",height:"100%",width:"100%",overflow:"hidden"})},this.srcBefore&&this.srcAfter&&[s("div",{ref:t=>this.container=t,class:t},s("img",{class:e,src:this.srcBefore,alt:"before"})),s("div",{ref:t=>this.imageAfter=t,class:i([t,h])},s("img",{class:e,src:this.srcAfter,alt:"after"})),s("div",{ref:t=>this.scroller=t,class:a},s("div",{class:c},s("spx-icon",{icon:"resize",size:"32px",color:this.iconColor})))])}get el(){return e(this)}static get watchers(){return{start:["startChanged"]}}};export{a as spx_image_comparison}