import{r as t,c as n,h as s,g as e,H as o}from"./p-dfe31926.js";import{c as i,a as r}from"./p-3e8ff66b.js";import{g as c,c as a}from"./p-51d98d1b.js";import{s as u}from"./p-79d12ad3.js";var f=i((function(t){
/*!
 * gumshoejs v5.1.2
 * A simple, framework-agnostic scrollspy script.
 * (c) 2019 Chris Ferdinandi
 * MIT License
 * http://github.com/cferdinandi/gumshoe
 */
var n;n=void 0!==r?r:"undefined"!=typeof window?window:r,t.exports=function(t){var n={navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},s=function(t,n,s){if(s.settings.events){var e=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});n.dispatchEvent(e)}},e=function(t){var n=0;if(t.offsetParent)for(;t;)n+=t.offsetTop,t=t.offsetParent;return n>=0?n:0},o=function(t){t&&t.sort((function(t,n){return e(t.content)<e(n.content)?-1:1}))},i=function(n,s,e){var o=n.getBoundingClientRect(),i=function(t){return"function"==typeof t.offset?parseFloat(t.offset()):parseFloat(t.offset)}(s);return e?parseInt(o.bottom,10)<(t.innerHeight||document.documentElement.clientHeight):parseInt(o.top,10)<=i},r=function(){return t.innerHeight+t.pageYOffset>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},c=function(t,n){var s=t[t.length-1];if(function(t,n){return!(!r()||!i(t.content,n,!0))}(s,n))return s;for(var e=t.length-1;e>=0;e--)if(i(t[e].content,n))return t[e]},a=function(t,n){if(n.nested&&t.parentNode){var s=t.parentNode.closest("li");s&&(s.classList.remove(n.nestedClass),a(s,n))}},u=function(t,n){if(t){var e=t.nav.closest("li");e&&(e.classList.remove(n.navClass),t.content.classList.remove(n.contentClass),a(e,n),s("gumshoeDeactivate",e,{link:t.nav,content:t.content,settings:n}))}},f=function(t,n){if(n.nested){var s=t.parentNode.closest("li");s&&(s.classList.add(n.nestedClass),f(s,n))}};return function(e,i){var r,a,l,d,v,h={setup:function(){r=document.querySelectorAll(e),a=[],Array.prototype.forEach.call(r,(function(t){var n=document.getElementById(decodeURIComponent(t.hash.substr(1)));n&&a.push({nav:t,content:n})})),o(a)},detect:function(){var t=c(a,v);t?l&&t.content===l.content||(u(l,v),function(t,n){if(t){var e=t.nav.closest("li");e&&(e.classList.add(n.navClass),t.content.classList.add(n.contentClass),f(e,n),s("gumshoeActivate",e,{link:t.nav,content:t.content,settings:n}))}}(t,v),l=t):l&&(u(l,v),l=null)}},p=function(){d&&t.cancelAnimationFrame(d),d=t.requestAnimationFrame(h.detect)},m=function(){d&&t.cancelAnimationFrame(d),d=t.requestAnimationFrame((function(){o(a),h.detect()}))};return h.destroy=function(){l&&u(l,v),t.removeEventListener("scroll",p,!1),v.reflow&&t.removeEventListener("resize",m,!1),a=null,r=null,l=null,d=null,v=null},v=function(){var t={};return Array.prototype.forEach.call(arguments,(function(n){for(var s in n){if(!n.hasOwnProperty(s))return;t[s]=n[s]}})),t}(n,i||{}),h.setup(),h.detect(),t.addEventListener("scroll",p,!1),v.reflow&&t.addEventListener("resize",m,!1),h}}(n)}));const l=class{constructor(s){t(this,s),this.spxScrollspyDidLoad=n(this,"spxScrollspyDidLoad",7),this.contentClass="spx-scrollspy__content--active",this.display="block",this.navClass="spx-scrollspy__nav--active",this.offset=0,this.target="a",this.urlChange=!1}onLinkChange(t){this.urlChange&&history.replaceState(null,null,t.detail.link.getAttribute("href")),this.scrolling&&this.el.scroll({top:this.el.querySelector('a[href="'+t.detail.link.getAttribute("href")+'"]').offsetTop-this.scrolling,behavior:"smooth"})}componentDidLoad(){c(this.el),this.myGumshoe=new f(":scope "+this.target,{reflow:!0,navClass:this.navClass,contentClass:this.contentClass,events:!0,offset:()=>{return(t=this.offset)&&!isNaN(t)?t:t?document.querySelector(t).getBoundingClientRect().height:t?void 0:0;var t}}),this.spxScrollspyDidLoad.emit({target:"document"})}async reload(){this.myGumshoe.setup()}render(){const t=a({display:u("spx-scrollspy","display",this.display)});return s(o,{class:t})}get el(){return e(this)}};export{l as spx_scrollspy}