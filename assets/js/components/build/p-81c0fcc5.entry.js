import{r as i,c as t,h as o,H as n,a}from"./p-08ffb50b.js";import{c as s}from"./p-c8a1ba51.js";import{s as e}from"./p-025a4802.js";import"./p-edbeee69.js";import"./p-0a7dbbed.js";import"./p-a2b66e39.js";import{g as r}from"./p-947bf368.js";import"./p-3480a2cc.js";import{b as h,a as p,c as l,e as d,f as c}from"./p-f4890c54.js";import{c as m}from"./p-4864d416.js";const g="spx-navigation",v=class{constructor(o){i(this,o),this.spxNavigationDidLoad=t(this,"spxNavigationDidLoad",7),this.childBorder="1px solid var(--spx-color-gray-200)",this.childBorderRadius=h,this.childBoxShadow="0 3px 10px 0 rgba(0,0,0,0.05)",this.childChildGap="0.8em",this.childGap="0.5em",this.childIcon="arrow-down",this.childIconType="ionicons",this.childIndicatorGap="0.2em",this.childItemBackground="#ffffff",this.childItemBackgroundHover="var(--spx-color-gray-100)",this.childItemColor="var(--spx-color-gray-700)",this.childItemColorHover="var(--spx-color-gray-900)",this.childItemPadding="0.6em 0.8em",this.childPlacement="start",this.fontSize="clamp(18px, 1.6vw, 20px)",this.itemTransitionDuration=p,this.itemTransitionTimingFunction=l,this.mobile=d,this.mobileIconType="ionicons",this.mobileItemBackground="#ffffff",this.mobileItemBackgroundHover="var(--spx-color-gray-100)",this.mobileItemColor="var(--spx-color-gray-800)",this.mobileItemColorHover="var(--spx-color-gray-900)",this.mobileItemNestedMarginLeft="0.8em",this.mobileItemPadding="0.6em",this.mobilePlacement="start",this.parentItemBackground="#ffffff",this.parentItemBackgroundHover="var(--spx-color-gray-100)",this.parentItemColor="var(--spx-color-gray-800)",this.parentItemColorHover="var(--spx-color-gray-900)",this.parentItemGap="0.4em",this.parentItemPadding="0.6em"}navigationChanged(i){i&&(this.menuArray=JSON.parse(i))}onClick(){this.mobileBp?this.initPopperMobile():(this.initPopperDesktop(),this.initPopperDesktop())}onResize(){this.mobileBp=window.innerWidth<this.mobile}componentWillLoad(){this.onResize(),this.navigationChanged(this.menu)}componentDidLoad(){r(this.el),this.sortMenuItem(),this.spxNavigationDidLoad.emit({target:"document"})}componentDidUpdate(){this.sortMenuItem()}renderMenu(i,t,n){return o("div",{class:n?"spx-navigation--"+t+" spx-navigation--mobile":"spx-navigation--"+t},o("ul",null,Object.values(i).map((i=>{const a=i.spxChildren,s=i.classes.map((i=>i)).toString().replace(/,/g,"  ");return o("li",{class:i.spxChildren?"spx-navigation__item--"+t+" spx-navigation__item--has-child"+s:"spx-navigation__item--"+t+" "+s,"data-order":i.menu_order},o("a",{href:"#"===i.url?"#0":i.url},i.title,a&&!this.mobileBp&&!this.vertical&&this.childIcon&&o("spx-icon",{type:this.childIconType,icon:this.childIcon})),a&&!n&&this.renderMenu(i.spxChildren,"child",!1),a&&n&&this.renderMenu(i.spxChildren,"child",!0))}))))}sortMenuItem(){const i=this.el.querySelectorAll("li"),t=[];for(let o=0;o<i.length;++o)t.push(i[o]);t.sort((function(i,t){return+i.getAttribute("data-order")-+t.getAttribute("data-order")})),t.forEach((i=>{i.closest("ul").appendChild(i)}))}initPopperDesktop(){if(!this.vertical){const i=this.el.querySelectorAll("nav > .spx-navigation--parent .spx-navigation__item--parent.spx-navigation__item--has-child");i&&i.forEach((i=>{m(i,i.querySelector("div"),{placement:"bottom-"+this.childPlacement})}));const t=this.el.querySelectorAll("nav > .spx-navigation--parent .spx-navigation--child .spx-navigation__item--child.spx-navigation__item--has-child");t&&t.forEach((i=>{m(i,i.querySelector("div"),{placement:"right-start",strategy:"fixed",modifiers:[{name:"flip",options:{fallbackPlacements:["left-start"]}},{name:"offset",options:{offset:({placement:t})=>"right-start"===t?[-Math.abs(i.getBoundingClientRect().top-i.parentElement.getBoundingClientRect().top),Math.abs(i.getBoundingClientRect().right-i.parentElement.getBoundingClientRect().right)]:[-Math.abs(i.getBoundingClientRect().top-i.parentElement.getBoundingClientRect().top),Math.abs(i.getBoundingClientRect().left-i.parentElement.getBoundingClientRect().left)]}},{name:"preventOverflow",options:{rootBoundary:i,padding:-1}}]})}))}}initPopperMobile(){const i=this.el.querySelector(".spx-navigation__mobile-button");i&&m(i,i.querySelector(".spx-navigation--mobile"),{placement:"bottom-"+this.mobilePlacement})}async reload(){this.componentDidLoad()}render(){const i=s({display:"block",fontFamily:c,fontSize:e(g,"font-size",this.fontSize),zIndex:999999,"nav > .spx-navigation--parent":{display:this.mobileBp?"none":"grid"},ul:{margin:"0",padding:"0",listStyleType:"none",ul:{display:this.vertical&&"grid",borderLeft:this.mobileBp&&"1px solid rgba(0,0,0,0.1)",borderRadius:this.mobileBp&&"0 !important",gridGap:this.vertical&&e(g,"parent-item-gap",this.parentItemGap),marginLeft:(this.mobileBp||this.vertical)&&e(g,"mobile-item-nested-margin-left",this.mobileItemNestedMarginLeft)}},"ul ul, .spx-navigation--mobile ul":{border:!this.mobileBp&&e(g,"child-border",this.childBorder),borderRadius:e(g,"child-border-radius",this.childBorderRadius),overflow:"hidden",boxShadow:!this.mobileBp&&e(g,"child-box-shadow",this.childBoxShadow)},".spx-navigation--parent:not(.spx-navigation--mobile) > ul":{display:"grid",gridAutoFlow:this.mobileBp||this.vertical?"row":"column",gridAutoColumns:"max-content",gridAutoRows:(this.mobileBp||this.vertical)&&"max-content",gridGap:e(g,"parent-item-gap",this.parentItemGap)},".spx-navigation__item--parent":{a:{padding:e(g,"parent-item-padding",this.parentItemPadding),color:e(g,"parent-item-color",this.parentItemColor),background:e(g,"parent-item-background",this.parentItemBackground),"&:hover":{color:e(g,"parent-item-color-hover",this.parentItemColorHover),background:e(g,"parent-item-color-background-hover",this.parentItemBackgroundHover)}},"&.spx-navigation__item--has-child > .spx-navigation--child":{flexDirection:"column",marginTop:this.vertical&&e(g,"parent-item-gap",this.parentItemGap),a:{display:"flex",justifyContent:"space-between",width:"100%",whiteSpace:"nowrap",color:!this.mobileBp&&e(g,"child-item-color",this.childItemColor),background:!this.mobileBp&&e(g,"child-item-background",this.childItemBackground),"&:hover":{color:!this.mobileBp&&e(g,"child-item-color-hover",this.childItemColorHover),background:!this.mobileBp&&e(g,"child-item-color-background-hover",this.childItemBackgroundHover)}},"::before":{content:'" "',position:"relative",display:this.mobileBp||this.vertical?"none":"block",minHeight:e(g,"child-gap",this.childGap),width:"100%"}}},".spx-navigation--child, .spx-navigation--mobile":{pointerEvents:this.vertical?"auto":"none",opacity:this.vertical?"1":"0",position:this.vertical?"relative":"absolute",display:"flex",flexDirection:this.mobileBp?"column":"row",transitionProperty:"opacity",transitionDuration:e(g,"item-transition-duration",this.itemTransitionDuration),transitionTimingFunction:e(g,"item-transition-timing-function",this.itemTransitionTimingFunction)},".spx-navigation--mobile .spx-navigation--child":{position:"relative"},"li:hover > .spx-navigation--child, li:focus-within > .spx-navigation--child, .spx-navigation__mobile-button:hover .spx-navigation--mobile, .spx-navigation__mobile-button:focus-within .spx-navigation--mobile, .spx-navigation__mobile-button:hover .spx-navigation--child, .spx-navigation__mobile-button:focus-within .spx-navigation--child":{opacity:"1",pointerEvents:"auto",transform:"translateY(0px)"},".spx-navigation__item--child":{a:{padding:e(g,"child-item-padding",this.childItemPadding)},'[data-popper-placement="left-start"]':{flexDirection:"row-reverse"},"[data-popper-placement]::before":{content:'" "',position:"relative",display:this.mobileBp||this.vertical?"none":"block",minWidth:e(g,"child-child-gap",this.childChildGap),height:"100%"}},li:{position:"relative",display:!this.mobileBp&&!this.vertical&&"flex",flexDirection:"row"},a:{display:"inline-grid",gridAutoFlow:"column",gridColumnGap:e(g,"child-indicator-gap",this.childIndicatorGap),textDecoration:this.itemUnderline?"underline":"none",width:"100%",fontSize:"inherit",transitionProperty:"color, background",transitionDuration:e(g,"item-transition-duration",this.itemTransitionDuration),transitionTimingFunction:e(g,"item-transition-timing-function",this.itemTransitionTimingFunction),"&:hover":{textDecoration:this.itemUnderlineHover&&"underline"}},".spx-navigation__mobile-button":{cursor:"pointer",maxWidth:"fit-content",padding:e(g,"parent-item-padding",this.parentItemPadding),color:e(g,"parent-item-color",this.parentItemColor),background:e(g,"parent-item-background",this.parentItemBackground),gridGap:"0.4rem",gridAutoFlow:"column",alignItems:"center",display:this.mobileBp?"grid":"none",a:{padding:e(g,"mobile-item-padding",this.mobileItemPadding),color:e(g,"mobile-item-color",this.mobileItemColor),background:e(g,"mobile-item-background",this.mobileItemBackground),"&:hover":{color:e(g,"mobile-item-color-hover",this.mobileItemColorHover),background:e(g,"mobile-item-background-hover",this.mobileItemBackgroundHover)}},".spx-navigation--parent":{"::before":{content:'" "',position:"relative",display:"block",minHeight:e(g,"child-gap",this.childGap),width:"100%"},"> ul":{background:e(g,"child-item-background",this.childItemBackground),border:e(g,"child-border",this.childBorder),boxShadow:e(g,"child-box-shadow",this.childBoxShadow)}}}});return o(n,{class:i},o("nav",null,this.menu&&[this.renderMenu(this.menuArray,"parent",!1),o("div",{tabindex:"0",role:"button",class:"spx-navigation__mobile-button"},this.mobileIcon&&o("spx-icon",{type:this.mobileIconType,icon:this.mobileIcon}),o("span",null,"Menu"),this.renderMenu(this.menuArray,"parent",!0))]))}get el(){return a(this)}static get watchers(){return{menu:["navigationChanged"]}}};export{v as spx_navigation}