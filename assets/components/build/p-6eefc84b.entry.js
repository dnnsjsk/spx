import{r as t,c as s,h as i,a as o}from"./p-509d707c.js";import{s as r,k as e}from"./p-1ea45254.js";import{g as a}from"./p-580e945a.js";import{B as n}from"./p-2316c8c1.js";const h="spx-image-comparison",c=class{constructor(i){t(this,i),this.spxImageComparisonDidLoad=s(this,"spxImageComparisonDidLoad",7),this.color="#ffffff",this.height="100%",this.iconColor="var(--spx-color-gray-900)",this.srcAfter="https://source.unsplash.com/random/1200x300",this.srcBefore="https://source.unsplash.com/random/1201x300",this.steps=10,this.start=150,this.mover=t=>{if(!this.active)return;let s=t.pageX;s-=this.container.getBoundingClientRect().left,this.move(s)},this.moveLeft=()=>{this.x>=2&&this.move(this.x-this.steps)},this.moveRight=()=>{this.x<=this.width&&this.move(this.x+this.steps)}}move(t){const s=Math.max(0,Math.min(t,this.container.offsetWidth));this.imageAfter.style.width=s+2+"px",this.scroller.style.left=s-25+"px",t>=2&&t<=this.width&&(this.x=t)}attributesChanged(t,s,i){r(this.el,h,i,t)}onResize(){this.el.offsetWidth!==this.width&&(this.move(this.start),this.width=this.root.offsetWidth)}componentDidLoad(){this.width=this.root.offsetWidth,document.body.classList.contains("oxygen-builder-body")&&(this.scroller.style.pointerEvents="none"),this.active=!1,this.scroller.addEventListener("mousedown",(()=>{this.active=!0})),document.body.addEventListener("mouseup",(()=>{this.active=!1})),document.body.addEventListener("mouseleave",(()=>{this.active=!1})),document.body.addEventListener("mousemove",(t=>{this.mover(t)})),this.move(this.start),this.scroller.addEventListener("touchstart",(()=>{this.active=!0})),document.body.addEventListener("touchend",(()=>{this.active=!1})),document.body.addEventListener("touchcancel",(()=>{this.active=!1})),document.body.addEventListener("touchmove",(t=>{this.mover(t)})),e({el:this.el,tag:h,props:["color","height","iconColor"],lazy:this.lazy}),this.spxImageComparisonDidLoad.emit({target:"document"})}componentWillUpdate(){a(this.el)}render(){return i("div",{ref:t=>this.root=t,class:"inner"},this.srcBefore&&this.srcAfter&&[i("div",{ref:t=>this.container=t,class:"container"},i("img",{src:!this.lazy&&this.srcBefore,"data-src":this.lazy&&this.srcBefore,alt:"before"})),i("div",{ref:t=>this.imageAfter=t,class:"container container--after"},i("img",{src:!this.lazy&&this.srcAfter,"data-src":this.lazy&&this.srcAfter,alt:"after"})),i(n,{as:"button",ref:t=>this.scroller=t,class:"scroller",onArrowLeft:this.moveLeft,onArrowRight:this.moveRight},i("div",{class:"thumb"},i("spx-icon",{icon:"resize",size:"32px"})))])}get el(){return o(this)}static get watchers(){return{start:["move"],color:["attributesChanged"],height:["attributesChanged"],iconColor:["attributesChanged"]}}};c.style=':host{display:var(--spx-image-comparison-display, block)}.inner{display:block;position:relative;width:100%;overflow:hidden;height:var(--spx-image-comparison-height, 100%)}.container{width:100%;position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;user-select:none;height:var(--spx-image-comparison-height, 100%)}.container--after{width:125px}img{height:100%;max-width:none !important}.scroller{width:50px;height:50px;position:absolute;left:100px;top:50%;transform:translateY(-50%);border-radius:50%;background-color:transparent;cursor:pointer;opacity:0.9;border:4px solid var(--spx-image-comparison-color, #ffffff);background:var(--spx-image-comparison-color, #ffffff);transition-property:box-shadow;transition-duration:var(--spx-transition-duration);transition-timing-function:var(--spx-transition-timing-function);transition-property:box-shadow, opacity}.scroller:focus{outline:none}.scroller:focus-visible{outline:none;box-shadow:var(--spx-focus)}:host([active]) .scroller{opacity:1;pointer-events:none}.scroller:hover{opacity:1}.scroller:before,.scroller:after{content:"";display:block;width:4px;height:9999px;position:absolute;left:50%;margin-left:-2px;z-index:30;transition:0.1s;background:var(--spx-image-comparison-color, #ffffff)}.scroller:before{top:100%}.scroller:after{bottom:100%}.thumb{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.thumb spx-icon{transform:rotate(45deg);color:var(--spx-image-comparison-icon-color, var(--spx-color-gray-900))}';export{c as spx_image_comparison}