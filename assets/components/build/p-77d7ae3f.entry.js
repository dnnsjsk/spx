import{r as t,c as s,h as i,a}from"./p-509d707c.js";import{d as h,s as o,b as e}from"./p-d794404b.js";import{g as r}from"./p-580e945a.js";import{h as n}from"./p-ad72e751.js";import{t as d,k as p}from"./p-0085c7ca.js";import"./p-03c35798.js";const l="spx-slideshow",c=class{constructor(i){t(this,i),this.spxSlideshowDidLoad=s(this,"spxSlideshowDidLoad",7),this.duration="60s",this.gap="1em",this.maxWidth="300px",this.objectFit="contain",this.init=()=>{this.container.querySelectorAll(":scope > *").forEach((t=>{const s=t.cloneNode(!0);this.clone.appendChild(s)})),this.offsetWidth=this.container.offsetWidth},this.update=()=>{this.container.innerHTML=this.el.innerHTML,this.clone.innerHTML="",this.init(),h({el:this.el,condition:this.lazy})}}imagesChanged(t){t&&(this.imagesArray=JSON.parse(t))}watchAttributes(t,s,i){o(this.el,l,i,t)}onResize(){this.container&&(this.offsetWidth=this.container.offsetWidth)}componentWillLoad(){this.content=this.el.innerHTML,this.images&&this.imagesChanged(this.images)}componentDidLoad(){this.init(),e({el:this.el,tag:l,props:["duration","gap","height","maxWidth","objectFit","overflow"],lazy:this.lazy,cb:this.update}),this.spxSlideshowDidLoad.emit({target:"document"})}componentWillUpdate(){r(this.el)}render(){const{tw:t,css:s}=d(this.el.shadowRoot),a=t(s({animationName:p({"0%":{transform:"translate3d(0px, 0px, 0px)"},to:{transform:"translate3d(calc(-"+this.offsetWidth+"px - "+this.gap+"), 0px, 0px)"}})}));return i("div",{class:"inner"},i("div",{class:`wrap ${a}`},n({class:"slideshow",condition:this.images,content:this.content,el:this.el,ref:t=>this.container=t,helper:{array:this.imagesArray,images:this.images,size:this.imageSize,src:this.imageSrc}}),i("div",{class:"slideshow",ref:t=>this.clone=t})))}get el(){return a(this)}static get watchers(){return{images:["imagesChanged"],duration:["watchAttributes"],gap:["watchAttributes"],height:["watchAttributes"],maxWidth:["watchAttributes"],objectFit:["watchAttributes"],overflow:["watchAttributes"]}}};c.style=':host{display:setVar("spx-slideshow", "display", block)}.inner{overflow:var(--spx-slideshow-overflow, )}.wrap{display:flex;animation-timing-function:linear;animation-iteration-count:infinite;animation-fill-mode:none;animation-play-state:running;animation-duration:var(--spx-slideshow-duration, 60s)}.wrap img{max-width:100%;width:100%;height:auto;object-fit:var(--spx-slideshow-object-fit, contain)}:host([height]) .wrap img{height:var(--spx-slideshow-height, )}.wrap>div+div{margin-left:var(--spx-slideshow-gap, 1em)}.slideshow{display:grid;grid-auto-flow:column;grid-auto-columns:var(--spx-slideshow-max-width, 300px);grid-gap:var(--spx-slideshow-gap, 1em)}';export{c as spx_slideshow}