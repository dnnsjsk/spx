import{r as t,c as s,h as i,H as o,a as e}from"./p-d8297fdb.js";import{b as h,d as r,e as a,s as n}from"./p-ae086eeb.js";import{d as c,t as p,a as d,f as l}from"./p-d099ae82.js";import{c as m}from"./p-70de8434.js";import{B as u}from"./p-afec7fc6.js";import"./p-a6008498.js";const f="spx-image-comparison",g=class{constructor(i){t(this,i),this.spxImageComparisonDidLoad=s(this,"spxImageComparisonDidLoad",7),this.color="#ffffff",this.display=c,this.height="100%",this.iconColor="var(--spx-color-gray-900)",this.srcAfter="https://source.unsplash.com/random/1200x300",this.srcBefore="https://source.unsplash.com/random/1201x300",this.steps=10,this.start=150,this.mover=t=>{if(!this.active)return;let s=t.pageX;s-=this.container.getBoundingClientRect().left,this.move(s)},this.moveLeft=()=>{this.x>=2&&this.move(this.x-this.steps)},this.moveRight=()=>{this.x<=this.width&&this.move(this.x+this.steps)}}onResize(){this.el.offsetWidth!==this.width&&(this.move(this.start),this.width=this.root.offsetWidth)}move(t){const s=Math.max(0,Math.min(t,this.container.offsetWidth));this.imageAfter.style.width=s+2+"px",this.scroller.style.left=s-25+"px",t>=2&&t<=this.width&&(this.x=t)}componentDidLoad(){h({el:this.el,lazy:this.lazy}),this.width=this.root.offsetWidth,document.body.classList.contains("oxygen-builder-body")&&(this.scroller.style.pointerEvents="none"),this.active=!1,this.scroller.addEventListener("mousedown",(()=>{this.active=!0})),document.body.addEventListener("mouseup",(()=>{this.active=!1})),document.body.addEventListener("mouseleave",(()=>{this.active=!1})),document.body.addEventListener("mousemove",(t=>{this.mover(t)})),this.move(this.start),this.scroller.addEventListener("touchstart",(()=>{this.active=!0})),document.body.addEventListener("touchend",(()=>{this.active=!1})),document.body.addEventListener("touchcancel",(()=>{this.active=!1})),document.body.addEventListener("touchmove",(t=>{this.mover(t)})),this.spxImageComparisonDidLoad.emit({target:"document"})}componentWillUpdate(){r(this.el)}render(){const{css:t}=m(this.el.shadowRoot),s=a({display:n(f,"display",this.display)}),e=t({display:"block",position:"relative",height:n(f,"height",this.height),width:"100%",overflow:"hidden"}),h=t({width:"100%",height:n(f,"height",this.height),backgroundRepeat:"no-repeat",backgroundColor:"white",backgroundSize:"cover",backgroundPosition:"center",position:"absolute",top:"0",left:"0",pointerEvents:"none",overflow:"hidden",userSelect:"none"}),r=t({height:"100%",maxWidth:"none !important"}),c=t({width:"125px"}),g=t(Object.assign({width:"50px",height:"50px",position:"absolute",left:"100px",top:"50%",transform:"translateY(-50%)",borderRadius:"50%",backgroundColor:" transparent",opacity:this.active?1:.9,pointerEvents:this.active?"none":"auto",cursor:"pointer",background:n(f,"color",this.color),border:"4px solid "+n(f,"color",this.color),transitionProperty:"box-shadow, opacity",transitionDuration:p,transitionTimingFunction:d,"&:hover":{opacity:1},"&:after, &:before":{content:'" "',display:"block",width:"4px",height:"9999px",position:"absolute",left:"50%",marginLeft:"-2px",zIndex:30,transition:"0.1s",background:n(f,"color",this.color)},"&:before":{top:"100%"},"&:after":{bottom:"100%"}},l)),b=t({height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center","spx-icon":{transform:"rotate(45deg)"}});return i(o,{class:s},i("div",{ref:t=>this.root=t,class:e},this.srcBefore&&this.srcAfter&&[i("div",{ref:t=>this.container=t,class:h},i("img",{class:r,src:!this.lazy&&this.srcBefore,"data-src":this.lazy&&this.srcBefore,alt:"before"})),i("div",{ref:t=>this.imageAfter=t,class:t([h,c])},i("img",{class:r,src:!this.lazy&&this.srcAfter,"data-src":this.lazy&&this.srcAfter,alt:"after"})),i(u,{as:"button",ref:t=>this.scroller=t,class:g,onArrowLeft:this.moveLeft,onArrowRight:this.moveRight},i("div",{class:b},i("spx-icon",{icon:"resize",size:"32px",color:this.iconColor})))]))}get el(){return e(this)}static get watchers(){return{start:["move"]}}};export{g as spx_image_comparison}